# A Climate-Aware Hybrid Kolmogorovâ€“Arnold and Neural Network Approach for Accurate and Interpretable Solar Irradiance Prediction

> **Supplementary Materials & Reproducibility Repo**  
> Version: 2025-11-02

This repository hosts code, configuration, and artifacts to reproduce the results and figures accompanying the manuscript:

> **A Climate-Aware Hybrid Kolmogorovâ€“Arnold and Neural Network Approach for Accurate and Interpretable Solar Irradiance Prediction**  
> Abdalla Alameen*, Sultan Mesfer Aldossary  
> *Corresponding author: a.alameen@psau.edu.sa*

---

## ðŸ“¦ Whatâ€™s here

- `code/` â€“ Python source, notebooks, and run scripts.
- `data/` â€“ Instructions and placeholders for input datasets (NASA POWER, derived CSVs).
- `env/` â€“ Environment specs (`environment.yml`, `requirements.txt`) and pinned versions.
- `figures/` â€“ Auto-generated plots saved by notebooks/scripts (Figures 2.1, 3.1, 3.2, 3.3â€“3.5 etc.).
- `results/` â€“ Metrics tables (MAE/RMSE/RÂ²), significance tests, and XAI outputs.
- `docs/` â€“ Additional documentation (methodology diagram, workflow SVG/PDF).

## ðŸ” Reproducibility quick start

```bash
# 1) Create environment (Conda recommended)
conda env create -f env/environment.yml
conda activate solar_hybrid_env

# 2) (Optional) Install as editable package
pip install -e code

# 3) Fetch NASA POWER data & preprocess
python code/scripts/fetch_nasa_power.py --cities riyadh dammam jeddah abha tabuk --start 2018-01-01 --end 2023-12-31 --out data/raw
python code/scripts/preprocess.py --in data/raw --out data/processed

# 4) Train per-city models (KAN & NN), then hybrid
python code/scripts/train_models.py --data data/processed --out results --cities riyadh dammam jeddah abha tabuk

# 5) Evaluate & export metrics/figures
python code/scripts/evaluate.py --data data/processed --models results/checkpoints --out results/metrics
python code/scripts/plot_figures.py --results results --out figures

# 6) Run all (end-to-end)
bash code/scripts/run_all.sh
```

> **Note**: This repo ships **no proprietary data**. NASA POWER is public; see `data/README.md` for exact access instructions.

## ðŸ”¬ Figures & Tables mapping

- **Fig 2.1** â€“ *Workflow Diagram*: generated by `docs/workflow.drawio.svg` (source) and exported by `code/scripts/export_diagram.py` to `figures/fig_2_1_workflow.pdf`.
- **Fig 3.1** â€“ *Cross-Zone Performance*: produced by `code/notebooks/03_performance_by_zone.ipynb` â†’ `figures/fig_3_1_performance.pdf`.
- **Fig 3.2** â€“ *Hybrid Activation Frequencies*: produced by `code/notebooks/04_activation_patterns.ipynb` â†’ `figures/fig_3_2_activation.pdf`.
- **Fig 3.3â€“3.5** â€“ Regime distribution & case study plots from `code/notebooks/05_case_study_dust.ipynb`.
- **Table 3.4â€“3.6, 9** â€“ Exported as CSV/LaTeX from `code/notebooks/06_metrics_and_stats.ipynb` into `results/metrics/`.

Each notebook/script saves final figures into `figures/` **and** writes CSVs under `results/metrics/` for auditability.

## ðŸ§ª Statistical tests

`code/notebooks/06_metrics_and_stats.ipynb` and `code/scripts/stats_tests.py` implement paired t-tests (p < 0.01) and sensitivity analyses (Â±3â€“5 percentile threshold perturbations), matching the manuscript.

## ðŸ§° Environment & versions

See `env/environment.yml` and `env/requirements.txt` for locked versions (Python 3.12, PyTorch 2.x, NumPy 1.26, scikit-learn 1.4).

## ðŸ“„ Citation

If you use this repository, please cite the manuscript and the code (see `CITATION.cff`).

## ðŸªª License

Source code is released under the MIT License (see `LICENSE`).

---

*This repository is designed to accompany the paper and make results reproducible and auditable.*
